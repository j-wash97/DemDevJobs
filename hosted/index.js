"use strict";var PostingList=function(a){var b=a.postings.map(function(a){return/*#__PURE__*/React.createElement("div",{className:"col-sm-6 py-2",key:a._id},/*#__PURE__*/React.createElement("div",{className:"card"},/*#__PURE__*/React.createElement("div",{className:"card-body"},/*#__PURE__*/React.createElement("h6",{className:"card-subtitle mb-2 text-muted"},moment(a.date).fromNow()),/*#__PURE__*/React.createElement("h5",{className:"card-title"},a.title),/*#__PURE__*/React.createElement("h6",{className:"card-subtitle mb-2 text-muted"},a.company),/*#__PURE__*/React.createElement("a",{href:a.link,className:"card-link",target:"_blank"},"Website Link"),/*#__PURE__*/React.createElement("a",{href:"/posting?id=".concat(a._id),className:"stretched-link"}))))});return/*#__PURE__*/React.createElement("div",{className:"row row-col-1 row-col-2 row-col-4"},b)},titleBarLinks=l?/*#__PURE__*/React.createElement("ul",{className:"navbar-nav",id:"titleBarLinks"},/*#__PURE__*/React.createElement("li",{className:"nav-item active"},/*#__PURE__*/React.createElement("a",{className:"nav-link",href:"/"},"View Jobs")),/*#__PURE__*/React.createElement("li",{className:"nav-item"},/*#__PURE__*/React.createElement("a",{className:"nav-link",href:"/user"},"Account")),/*#__PURE__*/React.createElement("li",{className:"nav-item"},/*#__PURE__*/React.createElement("a",{className:"nav-link",href:"/submit"},"Submit")),/*#__PURE__*/React.createElement("li",{className:"nav-item"},/*#__PURE__*/React.createElement("a",{className:"nav-link",href:"/logout"},"Logout"))):/*#__PURE__*/React.createElement("ul",{className:"navbar-nav",id:"titleBarLinks"},/*#__PURE__*/React.createElement("li",{className:"nav-item active"},/*#__PURE__*/React.createElement("a",{className:"nav-link",href:"/"},"View Jobs")),/*#__PURE__*/React.createElement("li",{className:"nav-item"},/*#__PURE__*/React.createElement("a",{className:"nav-link",href:"/login"},"Login/Signup"))),sendAjax=function(a,b,c,d,e){$.ajax({cache:!1,type:a,url:b,data:c,dataType:"json",success:d,error:e})},handlePostings=function(a){return sendAjax("GET","/all",$.param(a),function(a){return ReactDOM.render(/*#__PURE__*/React.createElement(PostingList,{postings:a.postings}),document.querySelector("#mainContent"))},function(){return ReactDOM.render(/*#__PURE__*/React.createElement(PostingList,{postings:[]}),document.querySelector("#mainContent"))})};// l is JS boolean set up in the main layout, indicating whether the user is logged in or not
window.onload=function(){ReactDOM.render(titleBarLinks,document.querySelector("#linkList")),handlePostings({})};