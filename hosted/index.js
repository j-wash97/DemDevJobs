"use strict";window.onload=function(){var a,b=new XMLHttpRequest;b.open("GET","/getAllPostings"),b.setRequestHeader("Accept","application/json"),b.onload=function(){var c=JSON.parse(b.response).postings;a=c.map(function(a,b){return{index:b,posting:a}}).sort(function(c,a){return a.posting.date-c.posting.date});var d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done);d=!0)var i=g.value,j=$("#mainContent").append("<div class=\"col-sm-3 py-2\">\n                                                    <div class=\"card\">\n                                                        <div class=\"card-body\">\n                                                            <h6 class=\"card-subtitle mb-2 text-muted\">".concat(moment(i.date).fromNow(),"</h6>\n                                                            <h5 class=\"card-title\">").concat(i.posting.title,"</h5>\n                                                            <h6 class=\"card-subtitle mb-2 text-muted\">").concat(i.posting.company,"</h6>\n                                                            <a href=\"").concat(i.posting.link,"\" class=\"card-link\" target=\"_blank\">Website Link</a>\n                                                            <a href=\"#\" class=\"stretched-link\" data-toggle=\"modal\" data-target=\"#postingDisplay\" data-index=\"").concat(i.index,"\"></a>\n                                                        </div>\n                                                    </div>\n                                                </div>"))}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}},b.send(),$("#postingDisplay").on("show.bs.modal",function(b){$("#postingDisplay").find("#view").prop("hidden",!1),$("#postingDisplay").find(".modal-footer").prop("hidden",!1),$("#postingDisplay").find("#update").prop("hidden",!0);var c,d,e=$(b.relatedTarget),f=a.find(function(a){return a.index===e.data("index")});switch(f.posting.level){case 0:c="Internship/Student";break;case 1:c="Entry";break;case 2:c="Mid";break;case 3:c="Senior";}switch(f.posting.category){case 0:d="Art";break;case 1:d="Design";break;case 2:d="Engineering";break;case 3:d="Production";}$("#postingDisplayLabel").text(f.posting.title),$("#postingDisplay").find("#view").html("<p><small class=\"text-muted\">Posted ".concat(moment(f.posting.date).format("MMMM D, YYYY"),"</small><br/>\n                                                <a href=\"").concat(f.posting.link,"\" class=\"modal-link \" target=\"_blank\">Website Link</a></p>\n                                                <dl class=\"row\">\n                                                    ").concat(null===f.posting.company?"":"<dt class=\"col-3\">Company</dt>\n                                                    <dd class=\"col-9\"><p>".concat(f.posting.company,"</p></dd>"),"\n                                                    ").concat(null===f.posting.location?"":"<dt class=\"col-3\">Location</dt>\n                                                    <dd class=\"col-9\"><p>".concat(f.posting.location,"</p></dd>"),"\n                                                    ").concat(null===f.posting.contact?"":"<dt class=\"col-3\">Contact</dt>\n                                                    <dd class=\"col-9\"><p>".concat(f.posting.contact,"</p></dd>"),"                                                    \n                                                    <dt class=\"col-3\">Job Level</dt>\n                                                    <dd class=\"col-9\"><p>").concat(c,"</p></dd>\n                                                    <dt class=\"col-3\">Category</dt>\n                                                    <dd class=\"col-9\"><p>").concat(d,"</p></dd>\n                                                    ").concat(null===f.posting.salary?"":"<dt class=\"col-3\">Salary</dt>\n                                                    <dd class=\"col-9\"><p>$".concat(f.posting.salary,"</p></dd>"),"\n                                                    ").concat(null===f.posting.description?"":"<dt class=\"col-3\">Description</dt>\n                                                    <dd class=\"col-9\"><p>".concat(f.posting.description,"</p></dd>"),"\n                                                </dl>")),$("#postingDisplay").find("#updateForm").html("<legend>Update Posting</legend>\n                                                    <input type=\"hidden\" id=\"index\" name=\"index\" value=\"".concat(f.index,"\" />\n                                                    <div class=\"form-group form-check\">\n                                                      <input type=\"checkbox\" class=\"form-check-input\" id=\"remove\" name=\"remove\" />\n                                                      <label class=\"form-check-label\" for=\"remove\">Remove Posting</label>\n                                                    </div>\n                                                    <div class=\"form-group\">\n                                                        <label for=\"title\">Title</label>\n                                                        <input class=\"form-control\" type=\"text\" id=\"title\" name=\"title\" placeholder=\"Title\" value=\"").concat(f.posting.title,"\"/>\n                                                    </div>\n                                                    <div class=\"form-group\">\n                                                        <label for=\"level\">Level</label>\n                                                        <select required class=\"form-control\" id=\"level\" name=\"level\">\n                                                            <option value=\"\" disabled ").concat(null===f.posting.level?"selected ":"","hidden>Level</option>\n                                                            <option value=\"0\" ").concat(0===f.posting.level?"selected ":"",">Internship/Student</option>\n                                                            <option value=\"1\" ").concat(1===f.posting.level?"selected ":"",">Entry</option>\n                                                            <option value=\"2\" ").concat(2===f.posting.level?"selected ":"",">Mid</option>\n                                                            <option value=\"3\" ").concat(3===f.posting.level?"selected ":"",">Senior</option>\n                                                        </select>\n                                                    </div>\n                                                    <div class=\"form-group\">\n                                                        <label for=\"category\">Category</label>\n                                                        <select required class=\"form-control\" id=\"category\" name=\"category\">\n                                                            <option disabled ").concat(null===f.posting.category?"selected ":"","hidden>Category</option>\n                                                            <option value=\"0\" ").concat(0===f.posting.category?"selected ":"",">Art</option>\n                                                            <option value=\"1\" ").concat(1===f.posting.category?"selected ":"",">Design</option>\n                                                            <option value=\"2\" ").concat(2===f.posting.category?"selected ":"",">Engineering</option>\n                                                            <option value=\"3\" ").concat(3===f.posting.category?"selected ":"",">Production</option>\n                                                        </select>\n                                                    </div>\n                                                    <div class=\"form-group\">\n                                                        <label for=\"company\">Company</label>\n                                                        <input class=\"form-control\" type=\"text\" id=\"company\" name=\"company\" placeholder=\"Company\" ").concat(null===f.posting.company?"":"value=\"".concat(f.posting.company,"\""),"/>\n                                                    </div>\n                                                    <div class=\"form-group\">\n                                                        <label for=\"location\">Location</label>\n                                                        <input class=\"form-control\" type=\"text\" id=\"location\" name=\"location\" placeholder=\"Location\" ").concat(null===f.posting.location?"":"value=\"".concat(f.posting.location,"\""),"/>\n                                                    </div>\n                                                    <div class=\"form-group\">\n                                                        <label for=\"contact\">Contact</label>\n                                                        <textarea class=\"form-control\" id=\"contact\" name=\"contact\" placeholder=\"Contact\" rows=\"2\" >").concat(null===f.posting.contact?"":f.posting.contact,"</textarea>\n                                                    </div>\n                                                    <div class=\"form-group\">\n                                                        <label for=\"salary\">Salary</label>\n                                                        <div class=\"input-group mb-3\">\n                                                            <div class=\"input-group-prepend\">\n                                                                <span class=\"input-group-text\">$</span>\n                                                            </div>\n                                                            <input class=\"form-control\" type=\"text\" id=\"salary\" name=\"salary\" placeholder=\"Salary\" ").concat(null===f.posting.salary?"":"value=\"".concat(f.posting.salary,"\""),"/>\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"form-group\">\n                                                        <label for=\"link\">Link</label>\n                                                        <input class=\"form-control\" type=\"url\" pattern=\"https://.*\" id=\"link\" name=\"link\" placeholder=\"Link\" ").concat(null===f.posting.link?"":"value=\"".concat(f.posting.link,"\""),"/>\n                                                    </div>\n                                                    <div class=\"form-group\">\n                                                        <label for=\"description\">Description</label>\n                                                        <textarea class=\"form-control\" id=\"description\" name=\"description\" placeholder=\"Description\" rows=\"10\">").concat(null===f.posting.description?"":f.posting.description,"</textarea>\n                                                    </div>\n                                                    <button type=\"submit\" class=\"btn btn-primary\">Update Posting</button>"))}),$("#postingDisplay").find("button").click(function(){$("#postingDisplay").find("#view").prop("hidden",!0),$("#postingDisplay").find(".modal-footer").prop("hidden",!0),$("#postingDisplay").find("#update").prop("hidden",!1)});var c=$("#updateForm");c.submit(function(a){a.preventDefault();var b=c.serialize(),d=new XMLHttpRequest;return d.open("POST","/updatePosting"),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.setRequestHeader("Accept","application/json"),d.onload=function(){204===d.status&&($("#response").remove(),c.after($("<div id=\"response\" class=\"alert alert-success mt-4\" role=\"alert\">Posting has been updated</div>")))},d.send(b),!1})};